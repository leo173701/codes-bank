\778. Swim in Rising Water

单一起点，单一终点，在各个路径当中，求最小值。

BFS+Priorityqueue

```python
# 九章算法 标准写法
# 用到最小堆
# 用pq直接找到到达某个点的时候， 的最小值
class Solution:
    def swimInWater(self, grid: List[List[int]]) -> int:
        N, pq, seen, res = len(grid), [(grid[0][0], 0, 0)], set([(0, 0)]), 0
        while True:
            T, x, y = heapq.heappop(pq)
            res = max(res, T)
            if x == y == N - 1:
                return res
            for i, j in [(x + 1, y), (x, y + 1), (x - 1, y), (x, y - 1)]:
                if 0 <= i < N and 0 <= j < N and (i, j) not in seen:
                    seen.add((i, j))     #用到了seen 集合去重复，找到的就是到达这个点的最小值
                    heapq.heappush(pq, (grid[i][j], i, j))
                                        
# 永远在找能走的路当中的最小值，结果如下：
# 很多点都没visit 就已经到达了最终目的地。
pq =  [(0, 0, 0)]
      grid[ 0 ][ 0 ]= 0
pq =  [(1, 0, 1), (24, 1, 0)]
      grid[ 0 ][ 1 ]= 1
pq =  [(2, 0, 2), (24, 1, 0), (23, 1, 1)]
      grid[ 0 ][ 2 ]= 2
pq =  [(3, 0, 3), (22, 1, 2), (23, 1, 1), (24, 1, 0)]
      grid[ 0 ][ 3 ]= 3
pq =  [(4, 0, 4), (21, 1, 3), (23, 1, 1), (24, 1, 0), (22, 1, 2)]
      grid[ 0 ][ 4 ]= 4
pq =  [(5, 1, 4), (21, 1, 3), (23, 1, 1), (24, 1, 0), (22, 1, 2)]
      grid[ 1 ][ 4 ]= 5
pq =  [(16, 2, 4), (21, 1, 3), (23, 1, 1), (24, 1, 0), (22, 1, 2)]
      grid[ 2 ][ 4 ]= 16
pq =  [(15, 2, 3), (21, 1, 3), (20, 3, 4), (24, 1, 0), (22, 1, 2), (23, 1, 1)]
      grid[ 2 ][ 3 ]= 15
pq =  [(14, 2, 2), (21, 1, 3), (19, 3, 3), (24, 1, 0), (22, 1, 2), (23, 1, 1), (20, 3, 4)]
      grid[ 2 ][ 2 ]= 14
pq =  [(13, 2, 1), (18, 3, 2), (19, 3, 3), (21, 1, 3), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0)]
      grid[ 2 ][ 1 ]= 13
pq =  [(12, 2, 0), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 2 ][ 0 ]= 12
pq =  [(11, 3, 0), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 3 ][ 0 ]= 11
pq =  [(10, 4, 0), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 4 ][ 0 ]= 10
pq =  [(9, 4, 1), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 4 ][ 1 ]= 9
pq =  [(8, 4, 2), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 4 ][ 2 ]= 8
pq =  [(7, 4, 3), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 4 ][ 3 ]= 7
pq =  [(6, 4, 4), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
      grid[ 4 ][ 4 ]= 6

```







```python
#我自己写的
class Solution:
    def swimInWater(self, grid: List[List[int]]) -> int:
        n = len(grid)        
        height = [[float('inf') for _ in range(n)] for k in range(n)]
        height[0][0]=grid[0][0]
        pq = [(grid[0][0],0,0)]
        while pq:
            cur, curx, cury = heapq.heappop(pq)
            if curx==n-1 and cury==n-1:
                return cur
            for dx, dy in ((-1, 0), (1, 0), (0, -1), (0, 1)):
                newx, newy = curx + dx, cury + dy            
                if newx<0 or newx>=n or newy<0 or newy>=n:  # 如果出界就跳过
                    continue                        
                new_height = max(grid[newx][newy], cur)
                if height[newx][newy]>new_height:
                    height[newx][newy]=new_height
                    heapq.heappush(pq,(height[newx][newy], newx, newy)) 
            # print("  pq=",pq)
            # print("     height=")
            # for i in height:
            #     print("        ",i)
        return -1 
```



输入：![img](https://assets.leetcode.com/uploads/2021/06/29/swim2-grid-1.jpg)

```python
Input: grid = [[0,1,2,3,4],[24,23,22,21,5],[12,13,14,15,16],[11,17,18,19,20],[10,9,8,7,6]]
Output: 16
```

```python
  pq= [(1, 0, 1), (24, 1, 0)]
     height=
         [0, 1, inf, inf, inf]
         [24, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
  pq= [(2, 0, 2), (24, 1, 0), (23, 1, 1)]
     height=
         [0, 1, 2, inf, inf]
         [24, 23, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
  pq= [(3, 0, 3), (22, 1, 2), (23, 1, 1), (24, 1, 0)]
     height=
         [0, 1, 2, 3, inf]
         [24, 23, 22, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
  pq= [(4, 0, 4), (21, 1, 3), (23, 1, 1), (24, 1, 0), (22, 1, 2)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
  pq= [(5, 1, 4), (21, 1, 3), (23, 1, 1), (24, 1, 0), (22, 1, 2)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
  pq= [(16, 2, 4), (21, 1, 3), (23, 1, 1), (24, 1, 0), (22, 1, 2)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [inf, inf, inf, inf, 16]
         [inf, inf, inf, inf, inf]
         [inf, inf, inf, inf, inf]
  pq= [(16, 2, 3), (21, 1, 3), (20, 3, 4), (24, 1, 0), (22, 1, 2), (23, 1, 1)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [inf, inf, inf, 16, 16]
         [inf, inf, inf, inf, 20]
         [inf, inf, inf, inf, inf]
  pq= [(16, 2, 2), (21, 1, 3), (19, 3, 3), (24, 1, 0), (22, 1, 2), (23, 1, 1), (20, 3, 4)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [inf, inf, 16, 16, 16]
         [inf, inf, inf, 19, 20]
         [inf, inf, inf, inf, inf]
  pq= [(16, 2, 1), (18, 3, 2), (19, 3, 3), (21, 1, 3), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [inf, 16, 16, 16, 16]
         [inf, inf, 18, 19, 20]
         [inf, inf, inf, inf, inf]
  pq= [(16, 2, 0), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [inf, 17, 18, 19, 20]
         [inf, inf, inf, inf, inf]
  pq= [(16, 3, 0), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [16, 17, 18, 19, 20]
         [inf, inf, inf, inf, inf]
  pq= [(16, 4, 0), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [16, 17, 18, 19, 20]
         [16, inf, inf, inf, inf]
  pq= [(16, 4, 1), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [16, 17, 18, 19, 20]
         [16, 16, inf, inf, inf]
  pq= [(16, 4, 2), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [16, 17, 18, 19, 20]
         [16, 16, 16, inf, inf]
  pq= [(16, 4, 3), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [16, 17, 18, 19, 20]
         [16, 16, 16, 16, inf]
  pq= [(16, 4, 4), (17, 3, 1), (19, 3, 3), (18, 3, 2), (22, 1, 2), (23, 1, 1), (20, 3, 4), (24, 1, 0), (21, 1, 3)]
     height=
         [0, 1, 2, 3, 4]
         [24, 23, 22, 21, 5]
         [16, 16, 16, 16, 16]
         [16, 17, 18, 19, 20]
         [16, 16, 16, 16, 16]

```

